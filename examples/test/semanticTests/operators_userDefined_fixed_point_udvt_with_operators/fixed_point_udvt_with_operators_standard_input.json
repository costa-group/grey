{"language": "Solidity", "sources": {"fixed_point_udvt_with_operators.sol": {"content": "type Fixed is int128;\nusing {add as +, mul as *} for Fixed global;\n\nint constant MULTIPLIER = 10**18;\n\nfunction add(Fixed a, Fixed b) pure returns (Fixed) {\n    return Fixed.wrap(Fixed.unwrap(a) + Fixed.unwrap(b));\n}\n\nfunction mul(Fixed a, Fixed b) pure returns (Fixed) {\n    int intermediate = (int(Fixed.unwrap(a)) * int(Fixed.unwrap(b))) / MULTIPLIER;\n    if (int128(intermediate) != intermediate) { revert(\"Overflow\"); }\n    return Fixed.wrap(int128(intermediate));\n}\n\ncontract C {\n    function applyInterest(Fixed value, Fixed percentage) public pure returns (Fixed result) {\n        return value + value * percentage;\n    }\n}\n// ----\n// applyInterest(int128,int128): 500000000000000000000, 100000000000000000 -> 550000000000000000000\n"}}, "settings": {"optimizer": {"enabled": true, "runs": 200}, "outputSelection": {"*": {"*": ["abi", "metadata", "evm.bytecode", "evm.deployedBytecode", "evm.methodIdentifiers"]}}, "metadata": {"appendCBOR": false}, "viaIR": true}}
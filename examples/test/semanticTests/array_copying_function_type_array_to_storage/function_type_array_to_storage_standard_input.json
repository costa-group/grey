{"language": "Solidity", "sources": {"function_type_array_to_storage.sol": {"content": "contract C {\n\tstring log;\n\tfunction() external[] fs;\n\tfunction() external[] gs;\n\n\tfunction a() external {\n\t\tlog = string.concat(log, \"[a called]\");\n\t}\n\tfunction b() external {\n\t\tlog = string.concat(log, \"[b called]\");\n\t}\n\n\tfunction f(function() external[] calldata x) external {\n\t\tfs = x;\n\t}\n\tfunction g(function() external[] memory x) public {\n\t\tfs = x;\n\t}\n\tfunction test() external returns (string memory) {\n\t\tlog = \"\";\n\t\tfunction() external[] memory x = new function() external[](2);\n\t\tx[0] = this.a;\n\t\tx[1] = this.b;\n\t\tthis.f(x);\n\t\tfs[0]();\n\t\tfs[1]();\n\t\treturn log;\n\t}\n\tfunction test2() external returns (string memory) {\n\t\tlog = \"\";\n\t\tfunction() external[] memory x = new function() external[](2);\n\t\tx[0] = this.b;\n\t\tx[1] = this.a;\n\t\tg(x);\n\t\tfs[0]();\n\t\tfs[1]();\n\t\treturn log;\n\t}\n\tfunction test3() external returns (string memory) {\n\t\tlog = \"\";\n\t\tgs = fs;\n\t\tgs[0]();\n\t\tgs[1]();\n\t\treturn log;\n\t}\n}\n// ----\n// test() -> 0x20, 0x14, \"[a called][b called]\"\n// gas irOptimized: 116518\n// gas legacy: 118841\n// gas legacyOptimized: 116843\n// test2() -> 0x20, 0x14, \"[b called][a called]\"\n// test3() -> 0x20, 0x14, \"[b called][a called]\"\n// gas irOptimized: 103144\n// gas legacy: 102654\n// gas legacyOptimized: 101556\n"}}, "settings": {"optimizer": {"enabled": true, "runs": 200}, "outputSelection": {"*": {"*": ["abi", "metadata", "evm.bytecode", "evm.deployedBytecode", "evm.methodIdentifiers"]}}, "metadata": {"appendCBOR": false}, "viaIR": true}}
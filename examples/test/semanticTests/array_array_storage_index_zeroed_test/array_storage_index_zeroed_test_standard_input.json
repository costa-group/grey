{
    "language": "Solidity",
    "sources": {
        "array_storage_index_zeroed_test.sol": {
            "content": "contract C {\n    uint[] storageArray;\n    function test_zeroed_indices(uint256 len) public\n    {\n        while(storageArray.length < len)\n            storageArray.push();\n        while(storageArray.length > len)\n            storageArray.pop();\n\n        for (uint i = 0; i < len; i++)\n            storageArray[i] = i + 1;\n\n        if (len > 3)\n        {\n            while(storageArray.length > 0)\n                storageArray.pop();\n            while(storageArray.length < 3)\n                storageArray.push();\n\n            for (uint i = 3; i < len; i++)\n            {\n                assembly {\n                    mstore(0, storageArray.slot)\n                    let pos := add(keccak256(0, 0x20), i)\n\n                    if iszero(eq(sload(pos), 0)) {\n                        revert(0, 0)\n                    }\n                }\n            }\n\n        }\n\n        while(storageArray.length > 0)\n            storageArray.pop();\n        while(storageArray.length < len)\n            storageArray.push();\n\n        for (uint i = 0; i < len; i++)\n        {\n            require(storageArray[i] == 0);\n\n            uint256 val = storageArray[i];\n            uint256 check;\n\n            assembly { check := iszero(val) }\n\n            require(check == 1);\n        }\n    }\n}\n// ----\n// test_zeroed_indices(uint256): 1 ->\n// test_zeroed_indices(uint256): 5 ->\n// gas irOptimized: 133763\n// gas legacy: 131664\n// gas legacyOptimized: 129990\n// test_zeroed_indices(uint256): 10 ->\n// gas irOptimized: 228556\n// gas legacy: 225215\n// gas legacyOptimized: 222351\n// test_zeroed_indices(uint256): 15 ->\n// gas irOptimized: 327360\n// gas legacy: 322899\n// gas legacyOptimized: 318907\n// test_zeroed_indices(uint256): 0xFF ->\n// gas irOptimized: 5180120\n// gas legacy: 5093135\n// gas legacyOptimized: 5020523\n"
        }
    },
    "settings": {
        "optimizer": {
            "enabled": true,
            "runs": 200,
            "details": {
                "peephole": false,
                "inliner": false,
                "jumpdestRemover": false,
                "orderLiterals": false,
                "deduplicate": false,
                "cse": false,
                "constantOptimizer": false
            }
        },
        "outputSelection": {
            "*": {
                "*": [
                    "abi",
                    "metadata",
                    "evm.bytecode",
                    "evm.deployedBytecode",
                    "evm.methodIdentifiers"
                ]
            }
        }
    }
}
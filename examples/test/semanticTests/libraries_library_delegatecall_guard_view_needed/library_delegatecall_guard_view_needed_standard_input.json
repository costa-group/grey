{"language": "Solidity", "sources": {"library_delegatecall_guard_view_needed.sol": {"content": "library L {\n    function f(uint256[] storage x) public view returns (uint256) {\n        return x.length;\n    }\n}\ncontract C {\n    uint256[] y;\n    string x;\n    constructor() { y.push(42); }\n    function f() public view returns (uint256) {\n        return L.f(y);\n    }\n    function g() public returns (bool, uint256) {\n        uint256 ys;\n        assembly { ys := y.slot }\n        (bool success, bytes memory data) = address(L).delegatecall(abi.encodeWithSelector(L.f.selector, ys));\n        return (success, success ? abi.decode(data,(uint256)) : 0);\n    }\n    function h() public returns (bool, uint256) {\n        uint256 ys;\n        assembly { ys := y.slot }\n        (bool success, bytes memory data) = address(L).call(abi.encodeWithSelector(L.f.selector, ys));\n        return (success, success ? abi.decode(data,(uint256)) : 0);\n    }\n}\n// ====\n// EVMVersion: >homestead\n// ----\n// library: L\n// f() -> 1\n// g() -> true, 1\n// h() -> true, 0 # this is bad - this should fail! #\n"}}, "settings": {"optimizer": {"enabled": true, "runs": 200, "details": {"peephole": false, "inliner": false, "jumpdestRemover": false, "orderLiterals": false, "deduplicate": false, "cse": false, "constantOptimizer": false}}, "outputSelection": {"*": {"*": ["abi", "metadata", "evm.bytecode", "evm.deployedBytecode", "evm.methodIdentifiers"]}}, "metadata": {"appendCBOR": false}}}